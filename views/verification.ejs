<%- include('partials/headerAndNav.ejs') %>
<style>

	.verification {
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.verification-table {
  	font-family: Arial, Helvetica, sans-serif;
  	border-collapse: collapse;
  	width: 100%;
	}

	.verification-table td, .verification-table th {
  	border: 1px solid #ddd;
  	padding: 8px;
		text-align: center;
	}

	.verification-table tr:nth-child(even){
		background-color: #f2f2f2;
	}

	.verification-table tr:hover {
		background-color: #ddd;
		cursor: pointer;
	}

	.verification-table th {
  	padding-top: 12px;
  	padding-bottom: 12px;
  	background-color: #038181;
  	color: white;
	}

	.verification-table th:nth-child(4) {
		width: 0;
	}

	.verification-table tr td:nth-child(4) {
		display: flex;
		align-items: center;
		justify-content: center;
	}
	
	.verification-table tr td:nth-child(4) img {
		width: 15vw;
		height: auto;
	}

	@media screen and (max-width: 768px) {
		.verification-table th:nth-child(4) {
			display: none;
		}
		
		.verification-table tr td:nth-child(4) {
			display: none;
		}
	}

	.verification-table th:nth-child(5) {
		width: 0;
	}

	.verification-table tr td:nth-child(5) {
		width: fit-content;
	}

	button {
		padding: 0.25rem 0.75rem;
		border-radius: 25px;
		background-color: #038181;
		color: #fff;
		border: 0;
	}

	.change-filters-btn {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		margin: 0.5rem 0;
		padding: 0.5rem 0.75rem;
	}

.modal {
  display: none;
  position: fixed;
  z-index: 1;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgb(0,0,0);
  background-color: rgba(0,0,0,0.4);
}

/* Modal Content/Box */
.modal-content {
  background-color: #fefefe;
  margin: 15% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 50%;
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}

.modal-text, .user-data-modal {
	display: flex;
	flex-direction: column;
	align-items: center;
}

.user-data-modal img {
	width: 100%;
	height: auto;
}

</style>
<section class="verification">
	<button class="change-filters-btn">
		<img src="img/filter.png" alt="" />
		<span>Change Filters</span>
	</button>
	<table class="verification-table">
			<thead>
				<tr>
					<th>#</th>
					<th>College</th>
					<th>Name</th>
          <th>Pic of ID</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<% let i = 0; %>
				<% if(users.length>0) { %>
					<% users.forEach(user =>{ %>
						<% i++ %>
						<tr id="tablerow">
							<td><%= i %></td>
							<td data-title="Institution"><%= user.collegeId %></td>
							<td data-title="Name"><%= user.name %></td>
							<td data-title="ID_front"><img src="/img/id.png" alt=""></td>
							<td data-title="Accept"><button class="buttonX1">ACCEPT</button></td>
							<!-- <td data-title="Reject"><button class="buttonX2">REJECT</button></td> -->
						</tr>
						<div id="popupModal" class="modal">
  						<div class="modal-content">
    						<span class="close">&times;</span>
								<div class="modal-text">
    							<div class="user-data-modal">
										<img src="img/id.png" alt="">
										<div><%= user.name %></div>
										<div><%= user.collegeId %></div>
									<div>
									<button class="buttonX1">ACCEPT</button>
									<button class="buttonX2">REJECT</button>
								</div>
							</div>
						</div>
  				</div>
				</div>
					<% })  } else {%>
                     <h3>No users </h3>
					 <% } %>  
					              
			</tbody>
		</table>
</section>
<script>
var modal = document.getElementById("popupModal");
var row = document.getElementById("tablerow");
var closebtn = document.getElementsByClassName("close")[0];
row.onclick = function() {
  modal.style.display = "block";
}
closebtn.onclick = function() {
  modal.style.display = "none";
}
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>
<%- include('partials/footer.ejs') %>